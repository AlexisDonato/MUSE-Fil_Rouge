{% extends 'base.html.twig' %}

{% block title %}Catégories
{% endblock %}

{% block body %}
<div class="container mb-3">

	<h1 class="text-primary mb-5 mt-5 text-center">Catégories :</h1>
		<div class="row row-flex justify-content-center">
			{% for category in categories %}
				<div class="col-lg-4">
				{% if category.parentCategory %}

						<div id="category" class="btn darker border border-secondary d-flex justify-content-between align-items-center mt-1 mb-1">
							<a href="{{ path('app_catalogue', {'category': category.id}) }}"><img src="/img/{{category.image}}" class="rounded-pill border border-3 border-light" style="width: 100px; height: auto;"></a>
							<div class="d-flex justify-content-center align-items-center">
							<h2>
								<a class="text-decoration-none d-flex justify-content-center h3 text-light ml-auto mr-auto" href="{{ path('app_catalogue', {'category': category.id}) }}">
									{{ category.name }}
								</a>
							</div>
								{% if (category.product|length) != 0 %}<h2 class="badge rounded-pill border border-light bg-dark text-white position-absolute mt-2">{{ category.product|length }}</h2>{% endif %}
						</div>
					{% else %}
						<div id="category" class="btn darker border border-secondary d-flex justify-content-between align-items-center mt-1 mb-1">
								<a href="{% if (category.product)|length != 0 %}{{ path('app_catalogue', {'category': category.id}) }}{% else %}{{ path('app_category', {'parent': category.id}) }}{% endif %}"><img src="/img/{{category.image}}" class="rounded-pill border border-3 border-light" style="width: 100px; height: auto;"></a>
							<div class="d-flex justify-content-center align-items-center">
							<h2>
								<a class="text-decoration-none d-flex justify-content-center h3 text-light ml-auto mr-auto" href="{% if (category.product)|length != 0 %}{{ path('app_catalogue', {'category': category.id}) }}{% else %}{{ path('app_category', {'parent': category.id}) }}{% endif %}">
									{{ category.name }}
								</a>
							</div>	
							</h2>
							{% if (category.product|length) != 0 %}<h2 class="badge rounded-pill border border-light bg-dark text-white position-absolute mt-2">{{ category.product|length }}</h2>{% endif %}
						</div>
					{% endif %}
				</div>
			{% endfor %}
		</div>
</div>
{% endblock %}
